(this["webpackJsonpreact_dynamic-list-of-todos"]=this["webpackJsonpreact_dynamic-list-of-todos"]||[]).push([[0],{13:function(e,t,c){},14:function(e,t,c){"use strict";c.r(t);var s,n=c(5),a=c.n(n),o=c(2),l=c(1),i=(c(10),c(11),c(4)),r=c.n(i),d=c(0),j=Object(l.memo)((function(e){var t=e.todo,c=e.selectedTodoId,s=e.showTodoInfo;return Object(d.jsxs)("tr",{"data-cy":"todo",className:r()({"has-background-info-light":c===t.id}),children:[Object(d.jsx)("td",{className:"is-vcentered",children:t.id}),Object(d.jsx)("td",{className:"is-vcentered",children:t.completed&&Object(d.jsx)("span",{className:"icon","data-cy":"iconCompleted",children:Object(d.jsx)("i",{className:"fas fa-check"})})}),Object(d.jsx)("td",{className:"is-vcentered is-expanded",children:Object(d.jsx)("p",{className:t.completed?"has-text-success":"has-text-danger",children:t.title})}),Object(d.jsx)("td",{className:"has-text-right is-vcentered",children:Object(d.jsx)("button",{"data-cy":"selectButton",className:"button",type:"button",onClick:function(){return s(t)},children:Object(d.jsx)("span",{className:"icon",children:Object(d.jsx)("i",{className:r()("far",{"fa-eye":c!==t.id,"fa-eye-slash":c===t.id})})})})})]})})),u=Object(l.memo)((function(e){var t=e.todos,c=e.selectedTodoId,s=e.showTodoInfo;return t.length?Object(d.jsxs)("table",{className:"table is-narrow is-fullwidth",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"#"}),Object(d.jsx)("th",{children:Object(d.jsx)("span",{className:"icon",children:Object(d.jsx)("i",{className:"fas fa-check"})})}),Object(d.jsx)("th",{children:"Title"}),Object(d.jsx)("th",{children:" "})]})}),Object(d.jsx)("tbody",{children:t.map((function(e){return Object(d.jsx)(j,{todo:e,selectedTodoId:c,showTodoInfo:s},e.id)}))})]}):Object(d.jsx)("div",{className:"message is-warning",children:Object(d.jsx)("div",{className:"message-body",children:Object(d.jsx)("p",{className:"m-3",children:"There is not result!"})})})})),b=Object(l.memo)((function(e){var t=e.value,c=e.onChange;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("input",{type:"text",value:t,className:"input","data-cy":"searchInput",placeholder:"Search...",onChange:function(e){return c(e.target.value.toLowerCase())}}),Object(d.jsx)("span",{className:"icon is-left",children:Object(d.jsx)("i",{className:"fas fa-magnifying-glass"})}),Object(d.jsx)("span",{className:"icon is-right",style:{pointerEvents:"all"},children:t&&Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("button",{type:"button",className:"delete","data-cy":"clearSearchButton",onClick:function(){return c("")}})})})]})}));!function(e){e.all="All",e.active="Active",e.completed="Completed"}(s||(s={}));var h=Object(l.memo)((function(e){var t=e.disabled,c=e.onSelect;return Object(d.jsx)("span",{className:"select",children:Object(d.jsx)("select",{"data-cy":"statusSelect",disabled:t,onChange:function(e){return c(e.target.value)},children:Object.values(s).map((function(e){return Object(d.jsx)("option",{value:e.toLowerCase(),children:e},e)}))})})})),m=Object(l.memo)((function(e){var t=e.query,c=e.disabled,s=e.onChange,n=e.onSelect;return Object(d.jsxs)("form",{className:"field has-addons",children:[Object(d.jsx)("div",{className:"control",children:Object(d.jsx)(h,{disabled:c,onSelect:n})}),Object(d.jsx)("div",{className:"control is-expanded has-icons-left has-icons-right",children:Object(d.jsx)(b,{value:t,onChange:s})})]})})),O=(c(13),function(){return Object(d.jsx)("div",{className:"Loader","data-cy":"loader",children:Object(d.jsx)("div",{className:"Loader__content"})})});function x(e){var t,c="https://mate-academy.github.io/react_dynamic-list-of-todos/api"+e+".json";return(t=1e3,new Promise((function(e){setTimeout(e,t)}))).then((function(){return fetch(c)})).then((function(e){var t;if(!e.ok)throw"".concat(e.status," - ").concat(e.statusText);if(null===(t=e.headers.get("content-type"))||void 0===t||!t.includes("application/json"))throw"Content type is not supported";return e.json()}))}var f=function(e){var t=e.textError;return Object(d.jsx)("div",{className:"notification is-danger is-light",children:"An error occured when loading ".concat(t,"!")})},v=function(e){var t=e.todo,c=e.onClose;return Object(d.jsxs)("header",{className:"modal-card-head",children:[Object(d.jsx)("div",{className:"modal-card-title has-text-weight-medium","data-cy":"modal-header",children:"Todo #".concat(null===t||void 0===t?void 0:t.id)}),Object(d.jsx)("button",{type:"button",className:"delete","data-cy":"modal-close",onClick:c})]})},p=function(e){var t=e.user,c=e.todo,s=e.loading,n=e.onClose,a=s&&Object(d.jsx)(O,{}),o=Object(l.useMemo)((function(){return t?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("p",{className:"block","data-cy":"modal-title",children:null===c||void 0===c?void 0:c.title}),Object(d.jsxs)("p",{className:"block","data-cy":"modal-user",children:[Object(d.jsx)("strong",{className:"has-text-".concat(null!==c&&void 0!==c&&c.completed?"success":"danger"),children:null!==c&&void 0!==c&&c.completed?"Done":"Planned"})," by ",Object(d.jsx)("a",{href:"mailto:".concat(null===t||void 0===t?void 0:t.email),children:null===t||void 0===t?void 0:t.name})]})]}):Object(d.jsx)(f,{textError:"user"})}),[t,c]);return Object(d.jsxs)("div",{className:"modal is-active","data-cy":"modal",children:[Object(d.jsx)("div",{className:"modal-background"}),a,!s&&Object(d.jsxs)("div",{className:"modal-card",children:[Object(d.jsx)(v,{todo:c,onClose:n}),Object(d.jsx)("div",{className:"modal-card-body",children:o})]})]})},N=function(){var e=Object(l.useState)(!1),t=Object(o.a)(e,2),c=t[0],n=t[1],a=Object(l.useState)([]),i=Object(o.a)(a,2),r=i[0],j=i[1],b=Object(l.useState)(null),h=Object(o.a)(b,2),v=h[0],N=h[1],g=Object(l.useState)(null),y=Object(o.a)(g,2),C=y[0],k=y[1],w=Object(l.useState)(0),S=Object(o.a)(w,2),T=S[0],I=S[1],E=Object(l.useState)(s.all.toLowerCase()),F=Object(o.a)(E,2),L=F[0],_=F[1],A=Object(l.useState)(""),B=Object(o.a)(A,2),q=B[0],J=B[1],M=Object(l.useState)(""),P=Object(o.a)(M,2),D=P[0],z=P[1],G=Object(l.useState)(!1),H=Object(o.a)(G,2),K=H[0],Q=H[1],R=Object(l.useState)(!1),U=Object(o.a)(R,2),V=U[0],W=U[1],X=Object(l.useCallback)((function(e){return _(e)}),[L]),Y=Object(l.useCallback)(function(e,t){var c;return function(){clearTimeout(c);for(var s=arguments.length,n=new Array(s),a=0;a<s;a++)n[a]=arguments[a];c=setTimeout.apply(void 0,[e,t].concat(n))}}(z,1e3),[]),Z=Object(l.useCallback)((function(e){J(e),Y(e)}),[]);Object(l.useEffect)((function(){x("/todos").then((function(e){return j(e)})).catch((function(){return W(!0)}))}),[]);var $=Object(l.useMemo)((function(){return function(e,t,c){var s=c.length>0,n=e.filter((function(e){return e.title.includes(c)}));return"completed"===t?(a=n,a.filter((function(e){return e.completed}))):"active"===t?function(e){return e.filter((function(e){return!e.completed}))}(n):s?n:e;var a}(r,L,D)}),[r,D,q,L]),ee=Object(l.useCallback)((function(){Q(!1),I(0),k(null)}),[K,C]),te=Object(l.useCallback)((function(e){var t;n(!0),Q(!0),N(e),I(e.id),(t=e.userId,x("/users/".concat(t))).then((function(e){n(!1),k(e)})).catch((function(){return n(!1)}))}),[v,C]);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"section",children:Object(d.jsx)("div",{className:"container",children:Object(d.jsxs)("div",{className:"box",children:[Object(d.jsx)("h1",{className:"title",children:"Todos:"}),!r.length&&!V&&Object(d.jsx)(O,{}),r.length&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"block",children:Object(d.jsx)(m,{query:q,disabled:!$.length,onSelect:X,onChange:Z})}),Object(d.jsx)("div",{className:"block",children:Object(d.jsx)(u,{todos:$,selectedTodoId:T,showTodoInfo:te})})]}),V&&Object(d.jsx)(f,{textError:"todos"})]})})}),K&&Object(d.jsx)(p,{loading:c,todo:v,user:C,onClose:ee})]})};a.a.render(Object(d.jsx)(N,{}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.e2435867.chunk.js.map