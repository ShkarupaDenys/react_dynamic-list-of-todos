{"version":3,"sources":["components/TodoItem/TodoItem.tsx","components/TodoList/TodoList.tsx","components/Input/Input.tsx","components/Select/Select.tsx","components/TodoFilter/TodoFilter.tsx","components/Loader/Loader.tsx","api.ts","components/LoadingError/LoadingError.tsx","components/Modal/components/ModalHead/ModalHead.tsx","components/Modal/Modal.tsx","App.tsx","helpers.js","index.tsx"],"names":["TodoItem","memo","_ref","todo","selectedTodoId","showTodoInfo","_jsxs","className","classnames","id","children","_jsx","completed","title","type","onClick","TodoList","todos","length","map","Input","value","onChange","_Fragment","placeholder","e","target","toLowerCase","style","pointerEvents","Select","options","disabled","onSelect","_ref2","TodoFilter","query","filterByOptions","Loader","get","url","delay","fullURL","Promise","resolve","setTimeout","then","fetch","response","_response$headers$get","ok","concat","status","statusText","headers","includes","json","LoadingError","textError","ModalHead","onClose","Modal","user","loading","isLoading","renderModalContent","useMemo","href","email","name","App","_useState","useState","_useState2","_slicedToArray","setLoading","_useState3","_useState4","setTodos","_useState5","_useState6","setTodo","_useState7","_useState8","setUser","_useState9","_useState10","setSelectedTodoId","_useState11","_useState12","filterBy","setFilterBy","_useState13","_useState14","setQuery","_useState15","_useState16","appliedQuery","setAppliedQuery","_useState17","_useState18","isOpenModal","setIsOpenModal","_useState19","_useState20","hasLoadingError","setHasLoadingError","handleSelect","useCallback","applyQuery","f","timerId","clearTimeout","_len","arguments","args","Array","_key","apply","debounce","handleSearch","useEffect","data","catch","visibleTodos","filterByStatus","isQuery","filteredByTitle","filter","allTodos","_ref3","filterByStatusActive","filterTodos","closeModal","currentTodo","userId","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7224ba39.chunk.js","sourcesContent":["import { memo } from 'react';\nimport classnames from 'classnames';\nimport { TodoItemProps } from '../../types/TodoProps';\n\nexport const TodoItem: React.FC<TodoItemProps> = memo(\n  ({\n    todo,\n    selectedTodoId,\n    showTodoInfo,\n  }) => (\n    <tr\n      data-cy=\"todo\"\n      className={classnames({\n        'has-background-info-light': selectedTodoId === todo.id,\n      })}\n    >\n      <td className=\"is-vcentered\">{todo.id}</td>\n      <td className=\"is-vcentered\">\n        {todo.completed && (\n          <span className=\"icon\" data-cy=\"iconCompleted\">\n            <i className=\"fas fa-check\" />\n          </span>\n        )}\n      </td>\n      <td className=\"is-vcentered is-expanded\">\n        <p className={todo.completed ? 'has-text-success' : 'has-text-danger'}>\n          {todo.title}\n        </p>\n      </td>\n      <td className=\"has-text-right is-vcentered\">\n        <button\n          data-cy=\"selectButton\"\n          className=\"button\"\n          type=\"button\"\n          onClick={() => showTodoInfo(todo)}\n        >\n          <span className=\"icon\">\n            <i className={classnames(\n              'far',\n              {\n                'fa-eye': selectedTodoId !== todo.id,\n                'fa-eye-slash': selectedTodoId === todo.id,\n              },\n            )}\n            />\n          </span>\n        </button>\n      </td>\n    </tr>\n  ),\n);\n","import React, { memo } from 'react';\nimport { TodoListProps } from '../../types/TodoProps';\nimport { TodoItem } from '../TodoItem';\n\nexport const TodoList: React.FC<TodoListProps> = memo(\n  ({\n    todos,\n    selectedTodoId,\n    showTodoInfo,\n  }) => {\n    if (!todos.length) {\n      return (\n        <div className=\"message is-warning\">\n          <div className=\"message-body\">\n            <p className=\"m-3\">There is not result!</p>\n          </div>\n        </div>\n      );\n    }\n\n    return (\n      <table className=\"table is-narrow is-fullwidth\">\n        <thead>\n          <tr>\n            <th>#</th>\n            <th>\n              <span className=\"icon\">\n                <i className=\"fas fa-check\" />\n              </span>\n            </th>\n            <th>Title</th>\n            <th> </th>\n          </tr>\n        </thead>\n        <tbody>\n          {todos.map(todo => (\n            <TodoItem\n              todo={todo}\n              key={todo.id}\n              selectedTodoId={selectedTodoId}\n              showTodoInfo={showTodoInfo}\n            />\n          ))}\n        </tbody>\n      </table>\n    );\n  },\n);\n","import { memo } from 'react';\n\ninterface Props {\n  value: string;\n  onChange: (value: string) => void;\n}\n\nexport const Input: React.FC<Props> = memo(\n  ({ value, onChange }) => (\n    <>\n      <input\n        type=\"text\"\n        value={value}\n        className=\"input\"\n        data-cy=\"searchInput\"\n        placeholder=\"Search...\"\n        onChange={(e) => onChange(e.target.value.toLowerCase())}\n      />\n      <span className=\"icon is-left\">\n        <i className=\"fas fa-magnifying-glass\" />\n      </span>\n      <span\n        className=\"icon is-right\"\n        style={{ pointerEvents: 'all' }}\n      >\n        {value && (\n          <>\n            {/* eslint-disable-next-line jsx-a11y/control-has-associated-label */}\n            <button\n              type=\"button\"\n              className=\"delete\"\n              data-cy=\"clearSearchButton\"\n              onClick={() => onChange('')}\n            />\n          </>\n        )}\n      </span>\n    </>\n  ),\n);\n","import { memo } from 'react';\nimport { GetValue } from '../../types/GetValue';\nimport { Option } from '../../types/Option';\n\ninterface Props {\n  options: Option[];\n  disabled: boolean;\n  onSelect: GetValue;\n}\n\nexport const Select: React.FC<Props> = memo(\n  ({ options, disabled, onSelect }) => (\n    <span className=\"select\">\n      <select\n        data-cy=\"statusSelect\"\n        disabled={disabled}\n        onChange={(e) => onSelect(e.target.value)}\n      >\n        {options.map(({ title, value }) => (\n          <option\n            value={value}\n            key={value}\n          >\n            {title}\n          </option>\n        ))}\n      </select>\n    </span>\n  ),\n);\n","import { memo } from 'react';\nimport { Input } from '../Input';\nimport { Select } from '../Select';\nimport { Option } from '../../types/Option';\nimport { GetValue } from '../../types/GetValue';\n\ninterface Props {\n  query: string;\n  disabled: boolean;\n  filterByOptions: Option[];\n  onSelect: GetValue;\n  onChange: GetValue;\n}\n\nexport const TodoFilter: React.FC<Props> = memo(\n  ({\n    query,\n    disabled,\n    filterByOptions,\n    onChange,\n    onSelect,\n  }) => (\n    <form className=\"field has-addons\">\n      <div className=\"control\">\n        <Select\n          disabled={disabled}\n          options={filterByOptions}\n          onSelect={onSelect}\n        />\n      </div>\n\n      <div className=\"control is-expanded has-icons-left has-icons-right\">\n        <Input\n          value={query}\n          onChange={onChange}\n        />\n      </div>\n    </form>\n  ),\n);\n","import React from 'react';\nimport './Loader.scss';\n\nexport const Loader: React.FC = () => (\n  <div className=\"Loader\" data-cy=\"loader\">\n    <div className=\"Loader__content\" />\n  </div>\n);\n","import { Todo } from './types/Todo';\nimport { User } from './types/User';\n\n// eslint-disable-next-line max-len\nconst BASE_URL = 'https://mate-academy.github.io/react_dynamic-list-of-todos/api';\n\n// This function creates a promime\n// that is resolved after a given delay\nfunction wait(delay: number): Promise<void> {\n  return new Promise(resolve => {\n    setTimeout(resolve, delay);\n  });\n}\n\nfunction get<T>(url: string): Promise<T> {\n  // eslint-disable-next-line prefer-template\n  const fullURL = BASE_URL + url + '.json';\n\n  // we add some delay to see now the laoder works\n  return wait(1000)\n    .then(() => fetch(fullURL))\n    .then(response => {\n      if (!response.ok) {\n        // eslint-disable-next-line @typescript-eslint/no-throw-literal\n        throw `${response.status} - ${response.statusText}`;\n      }\n\n      if (!response.headers.get('content-type')?.includes('application/json')) {\n        // eslint-disable-next-line @typescript-eslint/no-throw-literal\n        throw 'Content type is not supported';\n      }\n\n      return response.json();\n    });\n}\n\nexport const getTodos = () => get<Todo[]>('/todos');\n\nexport const getUser = (userId: number) => get<User>(`/users/${userId}`);\n","interface Props {\n  textError: string;\n}\n\nexport const LoadingError: React.FC<Props> = ({ textError }) => (\n  <div className=\"notification is-danger is-light\">\n    {`An error occured when loading ${textError}!`}\n  </div>\n);\n","import { Todo } from '../../../../types/Todo';\n\ninterface Props {\n  todo: Todo | null;\n  onClose: () => void;\n}\n\nexport const ModalHead: React.FC<Props> = ({ todo, onClose }) => (\n  <header className=\"modal-card-head\">\n    <div\n      className=\"modal-card-title has-text-weight-medium\"\n      data-cy=\"modal-header\"\n    >\n      {`Todo #${todo?.id}`}\n    </div>\n    {/* eslint-disable-next-line jsx-a11y/control-has-associated-label */}\n    <button\n      type=\"button\"\n      className=\"delete\"\n      data-cy=\"modal-close\"\n      onClick={onClose}\n    />\n  </header>\n);\n","import React, { useMemo } from 'react';\nimport { Loader } from '../Loader';\nimport { User } from '../../types/User';\nimport { Todo } from '../../types/Todo';\nimport { LoadingError } from '../LoadingError';\nimport { ModalHead } from './components/ModalHead';\n\ninterface Props {\n  loading: boolean;\n  todo: Todo | null;\n  user: User | null;\n  onClose: () => void;\n}\n\nexport const Modal: React.FC<Props> = ({\n  user,\n  todo,\n  loading,\n  onClose,\n}) => {\n  const isLoading = loading && <Loader />;\n\n  const renderModalContent = useMemo(() => {\n    if (!user) {\n      return <LoadingError textError=\"user\" />;\n    }\n\n    return (\n      <>\n        <p className=\"block\" data-cy=\"modal-title\">\n          {todo?.title}\n        </p>\n\n        <p className=\"block\" data-cy=\"modal-user\">\n          <strong\n            className={`has-text-${todo?.completed ? 'success' : 'danger'}`}\n          >\n            {todo?.completed ? 'Done' : 'Planned'}\n          </strong>\n\n          {' by '}\n\n          <a href={`mailto:${user?.email}`}>{user?.name}</a>\n        </p>\n      </>\n    );\n  }, [user, todo]);\n\n  return (\n    <div className=\"modal is-active\" data-cy=\"modal\">\n      <div className=\"modal-background\" />\n      {isLoading}\n\n      {!loading && (\n        <div className=\"modal-card\">\n          <ModalHead\n            todo={todo}\n            onClose={onClose}\n          />\n          <div className=\"modal-card-body\">\n            {renderModalContent}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n","/* eslint-disable max-len */\nimport React, {\n  useCallback,\n  useEffect,\n  useMemo,\n  useState,\n} from 'react';\nimport 'bulma/css/bulma.css';\nimport '@fortawesome/fontawesome-free/css/all.css';\n\nimport { debounce, filterTodos } from './helpers';\nimport { Todo } from './types/Todo';\nimport { TodoList } from './components/TodoList';\nimport { TodoFilter } from './components/TodoFilter';\nimport { Loader } from './components/Loader';\nimport { getTodos, getUser } from './api';\nimport { Modal } from './components/Modal';\nimport { User } from './types/User';\nimport { LoadingError } from './components/LoadingError';\n\nexport const App: React.FC = () => {\n  const filterByOptions = useMemo(() => [\n    {\n      title: 'All',\n      value: 'all',\n    },\n    {\n      title: 'Active',\n      value: 'active',\n    },\n    {\n      title: 'Completed',\n      value: 'completed',\n    },\n  ], []);\n\n  const [loading, setLoading] = useState(false);\n  const [todos, setTodos] = useState<Todo[]>([]);\n  const [todo, setTodo] = useState<Todo | null>(null);\n  const [user, setUser] = useState<User | null>(null);\n  const [selectedTodoId, setSelectedTodoId] = useState(0);\n  const [filterBy, setFilterBy] = useState(filterByOptions[0].value);\n  const [query, setQuery] = useState('');\n  const [appliedQuery, setAppliedQuery] = useState('');\n  const [isOpenModal, setIsOpenModal] = useState(false);\n  const [hasLoadingError, setHasLoadingError] = useState(false);\n\n  const handleSelect = useCallback(\n    (value: string) => setFilterBy(value), [filterBy],\n  );\n\n  const applyQuery = useCallback(debounce(setAppliedQuery, 1000), []);\n\n  const handleSearch = useCallback(\n    (value: string) => {\n      setQuery(value);\n      applyQuery(value);\n    }, [],\n  );\n\n  useEffect(() => {\n    getTodos()\n      .then(data => setTodos(data))\n      .catch(() => setHasLoadingError(true));\n  }, []);\n\n  const visibleTodos = useMemo(() => filterTodos(todos, filterBy, appliedQuery),\n    [todos, appliedQuery, query, filterBy]);\n\n  const closeModal = useCallback(() => {\n    setIsOpenModal(false);\n    setSelectedTodoId(0);\n    setUser(null);\n  }, [isOpenModal, user]);\n\n  const showTodoInfo = useCallback((currentTodo: Todo) => {\n    setLoading(true);\n    setIsOpenModal(true);\n    setTodo(currentTodo);\n    setSelectedTodoId(currentTodo.id);\n\n    getUser(currentTodo.userId)\n      .then(data => {\n        setLoading(false);\n        setUser(data);\n      })\n      .catch(() => setLoading(false));\n  }, [todo, user]);\n\n  return (\n    <>\n      <div className=\"section\">\n        <div className=\"container\">\n          <div className=\"box\">\n            <h1 className=\"title\">Todos:</h1>\n\n            {(!todos.length && !hasLoadingError) && <Loader />}\n\n            {todos.length > 0 && (\n              <>\n                <div className=\"block\">\n                  <TodoFilter\n                    query={query}\n                    disabled={!visibleTodos.length}\n                    filterByOptions={filterByOptions}\n                    onSelect={handleSelect}\n                    onChange={handleSearch}\n                  />\n                </div>\n                <div className=\"block\">\n                  <TodoList\n                    todos={visibleTodos}\n                    selectedTodoId={selectedTodoId}\n                    showTodoInfo={showTodoInfo}\n                  />\n                </div>\n              </>\n            )}\n            {hasLoadingError && (\n              <LoadingError textError=\"todos\" />\n            )}\n          </div>\n        </div>\n      </div>\n      {isOpenModal && (\n        <Modal\n          loading={loading}\n          todo={todo}\n          user={user}\n          onClose={closeModal}\n        />\n      )}\n    </>\n  );\n};\n","export const filterTodos = (todos, filterByStatus, query) => {\n  const isQuery = query.length > 0;\n\n  const filterByTitle = allTodos => allTodos\n    .filter(({ title }) => title.includes(query));\n\n  const filterByStatusComplted = allTodos => allTodos\n    .filter(({ completed }) => completed);\n\n  const filterByStatusActive = allTodos => allTodos\n    .filter(({ completed }) => !completed);\n\n  const filteredByTitle = filterByTitle(todos);\n\n  if (filterByStatus === 'completed') {\n    return filterByStatusComplted(filteredByTitle);\n  }\n\n  if (filterByStatus === 'active') {\n    return filterByStatusActive(filteredByTitle);\n  }\n\n  return isQuery ? filteredByTitle : todos;\n};\n\nexport const debounce = (f, delay) => {\n  let timerId;\n\n  return (...args) => {\n    clearTimeout(timerId);\n\n    // eslint-disable-next-line @typescript-eslint/no-implied-eval\n    timerId = setTimeout(f, delay, ...args);\n  };\n};\n","import ReactDOM from 'react-dom';\nimport { App } from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}