(this["webpackJsonpreact_dynamic-list-of-todos"]=this["webpackJsonpreact_dynamic-list-of-todos"]||[]).push([[0],{13:function(e,t,c){},14:function(e,t,c){"use strict";c.r(t);var n=c(5),s=c.n(n),a=c(2),o=c(1),l=(c(10),c(11),c(4)),i=c.n(l),r=c(0),d=Object(o.memo)((function(e){var t=e.todo,c=e.selectedTodoId,n=e.showTodoInfo;return Object(r.jsxs)("tr",{"data-cy":"todo",className:i()({"has-background-info-light":c===t.id}),children:[Object(r.jsx)("td",{className:"is-vcentered",children:t.id}),Object(r.jsx)("td",{className:"is-vcentered",children:t.completed&&Object(r.jsx)("span",{className:"icon","data-cy":"iconCompleted",children:Object(r.jsx)("i",{className:"fas fa-check"})})}),Object(r.jsx)("td",{className:"is-vcentered is-expanded",children:Object(r.jsx)("p",{className:t.completed?"has-text-success":"has-text-danger",children:t.title})}),Object(r.jsx)("td",{className:"has-text-right is-vcentered",children:Object(r.jsx)("button",{"data-cy":"selectButton",className:"button",type:"button",onClick:function(){return n(t)},children:Object(r.jsx)("span",{className:"icon",children:Object(r.jsx)("i",{className:i()("far",{"fa-eye":c!==t.id,"fa-eye-slash":c===t.id})})})})})]})})),j=Object(o.memo)((function(e){var t=e.todos,c=e.selectedTodoId,n=e.showTodoInfo;return t.length?Object(r.jsxs)("table",{className:"table is-narrow is-fullwidth",children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"#"}),Object(r.jsx)("th",{children:Object(r.jsx)("span",{className:"icon",children:Object(r.jsx)("i",{className:"fas fa-check"})})}),Object(r.jsx)("th",{children:"Title"}),Object(r.jsx)("th",{children:" "})]})}),Object(r.jsx)("tbody",{children:t.map((function(e){return Object(r.jsx)(d,{todo:e,selectedTodoId:c,showTodoInfo:n},e.id)}))})]}):Object(r.jsx)("div",{className:"message is-warning",children:Object(r.jsx)("div",{className:"message-body",children:Object(r.jsx)("p",{className:"m-3",children:"There is not result!"})})})})),u=Object(o.memo)((function(e){var t=e.value,c=e.onChange;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("input",{type:"text",value:t,className:"input","data-cy":"searchInput",placeholder:"Search...",onChange:function(e){return c(e.target.value.toLowerCase())}}),Object(r.jsx)("span",{className:"icon is-left",children:Object(r.jsx)("i",{className:"fas fa-magnifying-glass"})}),Object(r.jsx)("span",{className:"icon is-right",style:{pointerEvents:"all"},children:t&&Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("button",{type:"button",className:"delete","data-cy":"clearSearchButton",onClick:function(){return c("")}})})})]})})),b=Object(o.memo)((function(e){var t=e.options,c=e.disabled,n=e.onSelect;return Object(r.jsx)("span",{className:"select",children:Object(r.jsx)("select",{"data-cy":"statusSelect",disabled:c,onChange:function(e){return n(e.target.value)},children:t.map((function(e){var t=e.title,c=e.value;return Object(r.jsx)("option",{value:c,children:t},c)}))})})})),h=Object(o.memo)((function(e){var t=e.query,c=e.disabled,n=e.filterByOptions,s=e.onChange,a=e.onSelect;return Object(r.jsxs)("form",{className:"field has-addons",children:[Object(r.jsx)("div",{className:"control",children:Object(r.jsx)(b,{disabled:c,options:n,onSelect:a})}),Object(r.jsx)("div",{className:"control is-expanded has-icons-left has-icons-right",children:Object(r.jsx)(u,{value:t,onChange:s})})]})})),O=(c(13),function(){return Object(r.jsx)("div",{className:"Loader","data-cy":"loader",children:Object(r.jsx)("div",{className:"Loader__content"})})});function m(e){var t,c="https://mate-academy.github.io/react_dynamic-list-of-todos/api"+e+".json";return(t=1e3,new Promise((function(e){setTimeout(e,t)}))).then((function(){return fetch(c)})).then((function(e){var t;if(!e.ok)throw"".concat(e.status," - ").concat(e.statusText);if(null===(t=e.headers.get("content-type"))||void 0===t||!t.includes("application/json"))throw"Content type is not supported";return e.json()}))}var x=function(e){var t=e.textError;return Object(r.jsx)("div",{className:"notification is-danger is-light",children:"An error occured when loading ".concat(t,"!")})},f=function(e){var t=e.todo,c=e.onClose;return Object(r.jsxs)("header",{className:"modal-card-head",children:[Object(r.jsx)("div",{className:"modal-card-title has-text-weight-medium","data-cy":"modal-header",children:"Todo #".concat(null===t||void 0===t?void 0:t.id)}),Object(r.jsx)("button",{type:"button",className:"delete","data-cy":"modal-close",onClick:c})]})},v=function(e){var t=e.user,c=e.todo,n=e.loading,s=e.onClose,a=n&&Object(r.jsx)(O,{}),l=Object(o.useMemo)((function(){return t?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("p",{className:"block","data-cy":"modal-title",children:null===c||void 0===c?void 0:c.title}),Object(r.jsxs)("p",{className:"block","data-cy":"modal-user",children:[Object(r.jsx)("strong",{className:"has-text-".concat(null!==c&&void 0!==c&&c.completed?"success":"danger"),children:null!==c&&void 0!==c&&c.completed?"Done":"Planned"})," by ",Object(r.jsx)("a",{href:"mailto:".concat(null===t||void 0===t?void 0:t.email),children:null===t||void 0===t?void 0:t.name})]})]}):Object(r.jsx)(x,{textError:"user"})}),[t,c]);return Object(r.jsxs)("div",{className:"modal is-active","data-cy":"modal",children:[Object(r.jsx)("div",{className:"modal-background"}),a,!n&&Object(r.jsxs)("div",{className:"modal-card",children:[Object(r.jsx)(f,{todo:c,onClose:s}),Object(r.jsx)("div",{className:"modal-card-body",children:l})]})]})},p=function(){var e=Object(o.useMemo)((function(){return[{title:"All",value:"all"},{title:"Active",value:"active"},{title:"Completed",value:"completed"}]}),[]),t=Object(o.useState)(!1),c=Object(a.a)(t,2),n=c[0],s=c[1],l=Object(o.useState)([]),i=Object(a.a)(l,2),d=i[0],u=i[1],b=Object(o.useState)(null),f=Object(a.a)(b,2),p=f[0],N=f[1],g=Object(o.useState)(null),y=Object(a.a)(g,2),C=y[0],k=y[1],S=Object(o.useState)(0),w=Object(a.a)(S,2),T=w[0],I=w[1],E=Object(o.useState)(e[0].value),B=Object(a.a)(E,2),F=B[0],_=B[1],A=Object(o.useState)(""),L=Object(a.a)(A,2),M=L[0],q=L[1],J=Object(o.useState)(""),P=Object(a.a)(J,2),D=P[0],z=P[1],G=Object(o.useState)(!1),H=Object(a.a)(G,2),K=H[0],Q=H[1],R=Object(o.useState)(!1),U=Object(a.a)(R,2),V=U[0],W=U[1],X=Object(o.useCallback)((function(e){return _(e)}),[F]),Y=Object(o.useCallback)(function(e,t){var c;return function(){clearTimeout(c);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];c=setTimeout.apply(void 0,[e,t].concat(s))}}(z,1e3),[]),Z=Object(o.useCallback)((function(e){q(e),Y(e)}),[]);Object(o.useEffect)((function(){m("/todos").then((function(e){return u(e)})).catch((function(){return W(!0)}))}),[]);var $=Object(o.useMemo)((function(){return function(e,t,c){var n=c.length>0,s=e.filter((function(e){return e.title.includes(c)}));return"completed"===t?(a=s,a.filter((function(e){return e.completed}))):"active"===t?function(e){return e.filter((function(e){return!e.completed}))}(s):n?s:e;var a}(d,F,D)}),[d,D,M,F]),ee=Object(o.useCallback)((function(){Q(!1),I(0),k(null)}),[K,C]),te=Object(o.useCallback)((function(e){var t;s(!0),Q(!0),N(e),I(e.id),(t=e.userId,m("/users/".concat(t))).then((function(e){s(!1),k(e)})).catch((function(){return s(!1)}))}),[p,C]);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"section",children:Object(r.jsx)("div",{className:"container",children:Object(r.jsxs)("div",{className:"box",children:[Object(r.jsx)("h1",{className:"title",children:"Todos:"}),!d.length&&!V&&Object(r.jsx)(O,{}),d.length>0&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"block",children:Object(r.jsx)(h,{query:M,disabled:!$.length,filterByOptions:e,onSelect:X,onChange:Z})}),Object(r.jsx)("div",{className:"block",children:Object(r.jsx)(j,{todos:$,selectedTodoId:T,showTodoInfo:te})})]}),V&&Object(r.jsx)(x,{textError:"todos"})]})})}),K&&Object(r.jsx)(v,{loading:n,todo:p,user:C,onClose:ee})]})};s.a.render(Object(r.jsx)(p,{}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.7224ba39.chunk.js.map